<!DOCTYPE html>
<html>
  <head>
    <script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Oxygen:400,700&display=swap" rel="stylesheet">
    <meta charset = "UTF-8">
    <link rel = "stylesheet" href = "/styles.css">
    <title>String and fret</title>
    </head>
    <body>
    <audio id = "E1" src = "\sounds\E1.m4a" type = "audio/m4a"></audio>
    <audio id = "F1" src = "\sounds\F1.m4a" type = "audio/m4a"></audio>
    <audio id = "Fsharp1" src = "\sounds\Fsharp1.m4a" type = "audio/m4a"></audio>
    <audio id = "G1" src = "\sounds\G1.m4a" type = "audio/m4a"></audio>
    <audio id = "Gsharp1" src = "\sounds\Gsharp1.m4a" type = "audio/m4a"></audio>
    <audio id = "A1" src = "\sounds\A1.m4a" type = "audio/m4a"></audio>
    <audio id = "Asharp1" src = "\sounds\ASharp1.m4a" type = "audio/m4a"></audio>
    <audio id = "B1" src = "\sounds\B1.m4a" type = "audio/m4a"></audio>
    <audio id = "C1" src = "\sounds\C1.m4a" type = "audio/m4a"></audio>
    <audio id = "Csharp1" src = "\sounds\Csharp1.m4a" type = "audio/m4a"></audio>
    <audio id = "D1" src = "\sounds\D1.m4a" type = "audio/m4a"></audio>
    <audio id = "Dsharp1" src = "\sounds\Dsharp1.m4a" type = "audio/m4a"></audio>

    

    <div class = "simple-interface"> 
      <div>
        <input type = "number" id = "string" placeholder = "string number" ></input>
        <input type = "number" id = "fret" placeholder = "fret number"></input>
      </div>
        <button id = "whatnote" class = "btn">
        Play
      </button>
    <div id="result">
    
    </div>
  </div>
  </body>
  <script src = "stringandfret.js"></script>
  <script>
    const audios = {
      "C": document.getElementById('C1'),
      "C#/Db": document.getElementById('Csharp1'),
      "D": document.getElementById('D1'),
      "D#/Eb": document.getElementById('Dsharp1'),
      "E": document.getElementById('E1'),
      "F": document.getElementById('F1'),
      "F#/Gb": document.getElementById('Fsharp1'),
      "G": document.getElementById('G1'),
      "G#/Ab": document.getElementById('Gsharp1'),
      "A": document.getElementById('A1'),
      "A#/Bb": document.getElementById('Asharp1'),
      "B": document.getElementById('B1')
    }

    function whatnote() {
      const string = $("#string").val();
      const fret = $("#fret").val();
      const output = stringFret(string, fret);
      if(output) {
      $("#result").html(`You should be hearing a ${output} (Not necessarily in the right octave... sorry!)`);
      audios[output].play();
      
      } else {
        $("#result").html("Something's gone wrong. String number should be a number between 1 and 6, and fret number should be between 0 and 24");
      }
    }
    $("#whatnote").on("click", function() {whatnote()});
  </script>
</html>